---
title: 目标检测
data: 2019-7-24
categories: 目标检测
---

#### 目标检测经典网络

##### RCNN

- 通过选择性搜索方法(颜色，纹理，分割，融合)找到感兴趣的区域。
- 将所选区域输入到CNN网络提取特征。
- 将提取的特征使用SVM分类，使用线性回归对边框修正。



##### SPP-Net

- 使用选择性搜索方法找到感兴趣区域。
- 将整幅图片输入到CNN网络提取特征。
- 将候选区域映射到feature map中。
- 使用金字塔池化将feature map中的候选区域调整到统一的大小。
  - 金字塔池化：将候选区域划分为4×4,2×2,1×1的网格，对每个网格进行最大池化，然后将输出拼接到一起。
  - 需要调整到统一大小的原因：全连接层的输入需要固定的大小。
  - 为什么不直接crop或缩放到统一的大小：因为直接crop或缩放会导致图片不完整以及失真，对结果产生影响。


##### Fast-RCNN

- fast-rcnn和spp-net的流程差不多，改变的地方在于：
  -  将金字塔池化改为Rol-Pooling，直接将feature map调整到所需的大小，然后对每个区域进行池化即可。
  - 加入了多任务损失函数。

##### Faster-RCNN

- 主要在于引进了RPN网络代替了选择性搜索方法。
  - rpn网络引入了anchors，后面链接一个分类和边框回归处理，分类只用于将目标区分前景还是背景，边框回归只是对位置较精确的调整，较精确是针对之后fast-rcnn的边框位置的精确定位而言。
    - 训练anchors的选择：
      - 将与真实框的iou大于一定阈值的anchor作为正样本，正样本的数量不超过128。
      - 将与真实框的iou小于一定阈值的anchor作为负样本，正负样本的总数为256。
      - 其余的anchors不参与训练。
    - 边框回归的输入为相对于anchor的偏移，之所以使用偏移是为了方便训练不同尺度的样本。
      - 边框回归的详细地址：[](https://blog.csdn.net/zijin0802034/article/details/77685438)

- 将RolPooling替换为RolAlign
  - 因为在提取特征以及使用RolPooling的过程中，都会使用到四舍五入，因此对于小目标来说造成的误差是比较大的，RolAlign则是保留了处理过程中的小数，在池化时使用双线性插值。
