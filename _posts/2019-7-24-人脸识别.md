---
title: 人脸识别
data: 2019-7-24
categories: 人脸识别
---

#### triplet-loss

损失函数如下，[]中的值大于0时loss为此时的值，小于0时损失为0。

- 网络的输入是一个三元组(a，p，n)，anchor与positive属于同一个类别，anchor与negative属于不同的类别，网络训练的目的是使同一类别人脸之间的距离更加紧凑，不同人脸之间的距离更加疏远。
- 三元组的选择，所有样本的配对有如下三种情况。
  - easy-triplets   d(a,p) + m < d(a,n)   这种情况不需要优化，本身a,p相距较近，a,n相距较远。
  - hard-triplets   d(a,n) < d(a,p)
  - semi-hard triplets   d(a,p) < d(a,n) < d(a,p) + m
- 在线挖掘策略，对于每个batch中选择同类样本中d(a, p)距离最大的样本，不同类样本中d(a, n)距离最小的样本。
- triplet-loss的缺点：训练比较困难

#### softmax-loss

![img](http://note.youdao.com/yws/res/1247/WEBRESOURCE07d07628746ca5537974584ffbb55488)

N为batch_size大小，n为类别数。交叉熵损失函数。

softmax-loss能够保证特征可分，但是不能优化类内和类间的距离。