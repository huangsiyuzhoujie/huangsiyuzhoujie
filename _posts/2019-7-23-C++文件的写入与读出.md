---
title: C++文件的读写
data: 2019-7-23
categories: C++
---

#### 文件I/O

----

C++中有一个stream类，所有的文件I/O操作都是以此类为基础。在实际的应用中，根据需要的不同，选择不同的类来定义，如果想以输入方式打开，就用***ifstream***定义，如果想以输出的方式打开，就用***ofstream***来定义，如果想以输入输出的方式打开，则用***fstream***定义。

#### 打开文件

---

```c++
void open(const char* filename, int mode, int access)
```

mode：打开文件的方式，常用的值如下：

- ios::app  以追加的方式打开文件
- ios::binary  以二进制的方式打开文件
- ios::in  以输入的方式打开文件
- ios::out  以输出的方式打开文件
- ios::trunc  如果文件存在，把文件的长度设为0

如果open函数只有文件名一个属性，则是以读写普通文件打开。

fstream打开文件的方式：

```c++
第一种
fstream file1;
file1.open("hsy.txt");
第二种
fstream file1("hsy.txt");
```

ifstream默认以输入的方式打开文件，ofstream默认以输出的方式打开文件。

```c++
ifstream file2("hsy.txt");
ofstream file3("hsy.txt");
```

#### 关闭文件

---

打开的文件使用完成后需要关闭。

```c++
file.close()
```

#### 读写文件

---

- 文本文件的读写

  文本文件的读写可以直接使用插入器(<<)和析取器(>>)，用<<向文件输出，用>>从文件输入。

  ```c++
  file << "hsy";   向文件写入字符串
  int i;
  file >> i;  从文件读出一个整数值
  ```

  。。。。。。。。。。。。。。。。。。。


